@startuml
title SSH 连接与终端交互流程（时序图）

participant 用户
participant 前端界面
participant 后端服务
participant SSH服务器

' -------------------- 连接阶段 --------------------
用户 -> 前端界面 : 输入主机 / 端口 / 用户名 / 密码\n点击「连接」
前端界面 -> 后端服务 : 发送 SSH 连接请求（含参数）
后端服务 -> SSH服务器 : 发起 SSH 连接请求（SSH协议）
SSH服务器 --> 后端服务 : 返回连接结果（成功 / 失败）
后端服务 --> 前端界面 : 推送连接结果

' -------------------- 成功分支 --------------------
alt 连接成功
    前端界面 -> 用户 : 显示登录提示（Welcome…）

    loop 终端交互
        用户 -> 前端界面 : 输入命令（如 ls）
        前端界面 -> 后端服务 : 转发终端命令
        后端服务 -> SSH服务器 : 执行命令
        SSH服务器 --> 后端服务 : 返回命令结果
        后端服务 --> 前端界面 : 返回命令输出
        前端界面 -> 用户 : 展示执行结果
    end
end

' -------------------- 失败分支 --------------------
else 连接失败
    前端界面 -> 用户 : 显示错误提示\n（如 密码错误 / 端口未开放）
end

@enduml
