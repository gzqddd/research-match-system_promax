# 系统架构与创新亮点

## 📐 系统架构

### 技术架构

**前端技术栈**
- **React 19**: 最新的React框架，提供现代化的UI开发体验
- **Tailwind CSS 4**: 现代化的CSS框架，快速构建美观界面
- **shadcn/ui**: 高质量的UI组件库（60+组件）
- **Wouter**: 轻量级路由库
- **tRPC Client**: 类型安全的API调用，确保前后端类型一致
- **Recharts**: 数据可视化图表库

**后端技术栈**
- **Express 4**: Node.js Web框架，提供HTTP服务
- **tRPC 11**: 端到端类型安全的RPC框架，无需手动维护API类型
- **Drizzle ORM**: 类型安全的数据库ORM，编译期类型检查
- **MySQL/TiDB**: 关系型数据库，存储业务数据
- **本地AI服务**: 基于LLM的AI智能匹配和分析

**架构模式**
- **前后端分离**: Client/Server完全分离，独立部署
- **三层架构**: 路由层 → Repository层 → 数据库层
- **类型安全**: TypeScript + tRPC 实现端到端类型安全

---

### 业务架构

**三端角色系统**
- **学生端**: 浏览项目、AI智能推荐、在线申请、进度跟踪
- **教师端**: 发布项目、审核申请、AI辅助筛选、实习管理
- **管理员端**: 系统监控、用户管理、数据统计、权限配置

**核心业务流程**
```
项目发布 → AI匹配推荐 → 在线申请 → 教师审核 → 实习管理 → 进度跟踪
```

**数据流向**
```
前端请求 → tRPC路由层 → Repository数据访问层 → Drizzle ORM → MySQL数据库
```

---

## ✨ 创新亮点

### 1. AI智能匹配系统

**功能描述**
- 自动分析学生档案与项目需求的匹配度（0-100分评分）
- 生成详细的匹配分析报告（优势、不足、改进建议）
- 智能推荐最适合的科研项目

**技术实现**
- 使用LLM分析学生技能、研究兴趣、项目经验
- 对比项目需求，计算多维度匹配分数
- 生成结构化的JSON分析报告

**创新价值**
- 减少教师筛选工作量，提高匹配效率
- 为学生提供个性化的项目推荐
- 提升申请成功率

---

### 2. AI简历解析

**功能描述**
- PDF简历上传后自动提取文本内容
- AI解析并结构化提取关键信息（学号、专业、技能、项目经验等）
- 自动填充个人档案表单，减少手动输入

**技术实现**
- 使用 `pdfjs-dist` 提取PDF文本
- LLM解析简历文本，提取结构化JSON数据
- 自动映射到数据库字段并保存

**创新价值**
- 大幅减少学生填写表单的时间
- 提高数据准确性和完整性
- 提升用户体验

---

### 3. 全局AI助手（支持工具调用）

**功能描述**
- 三端场景化对话（学生/教师/管理员不同角色）
- 可读取数据库信息进行智能分析（如"谁是最强申请人"）
- 支持Markdown渲染，提升可读性

**技术实现**
- 基于LLM的对话系统
- 工具调用（Function Calling）机制，AI可主动查询数据库
- 角色感知的系统提示词，提供场景化建议

**创新价值**
- 提供24/7智能咨询服务
- AI可主动获取数据进行分析，无需人工查询
- 提升系统智能化水平

**工具调用示例**
- `getApplicationsByProject`: 获取项目申请列表
- `getStudentProfiles`: 获取学生档案信息
- `getProjects`: 获取项目列表

---

### 4. 端到端类型安全

**功能描述**
- tRPC实现前后端类型自动同步
- 编译期捕获API调用错误，减少运行时问题

**技术实现**
- tRPC 11 框架，基于TypeScript类型系统
- 后端定义路由和类型，前端自动获得类型提示
- 无需手动维护API文档和类型定义

**创新价值**
- 减少前后端联调时间
- 提高代码质量和可维护性
- 降低运行时错误率

---

### 5. 内容富文本支持

**功能描述**
- 项目描述、申请陈述支持Markdown格式
- 提升信息展示质量和可读性

**技术实现**
- 使用 `Streamdown` 库渲染Markdown
- 支持代码块、列表、链接等Markdown语法
- 深色模式适配

**创新价值**
- 提升内容表达丰富度
- 改善用户体验
- 支持更专业的项目描述

---

## 🎯 技术特色

### 类型安全体系
- **前端**: TypeScript + tRPC Client（自动类型推导）
- **后端**: TypeScript + tRPC Server（类型定义）
- **数据库**: Drizzle ORM（Schema类型推导）

### 模块化设计
- **Repository层**: 统一数据访问接口
- **Service层**: 业务逻辑封装（AI匹配、简历解析等）
- **Route层**: API接口定义和权限控制

### 可扩展性
- **插件化AI服务**: 支持切换不同的LLM提供商
- **存储抽象**: 支持本地存储和S3云存储
- **角色权限**: 基于RBAC的灵活权限系统

---

## 📊 系统优势

### 开发效率
- ✅ 端到端类型安全，减少调试时间
- ✅ 模块化架构，易于维护和扩展
- ✅ 完善的文档和代码注释

### 用户体验
- ✅ AI智能推荐，精准匹配
- ✅ 简历自动解析，减少输入
- ✅ Markdown支持，内容更丰富
- ✅ 响应式设计，支持多端访问

### 系统性能
- ✅ AI匹配结果缓存机制
- ✅ 数据库索引优化
- ✅ 静态资源CDN支持

---

## 🔮 未来规划

### 短期优化
- [ ] 增加更多AI工具调用能力
- [ ] 优化AI匹配算法精度
- [ ] 增加数据可视化图表

### 长期规划
- [ ] 支持多语言国际化
- [ ] 移动端APP开发
- [ ] 集成更多第三方服务（邮件、短信等）

---

*最后更新: 2024年*

